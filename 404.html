<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://slimer37.me/styles.css">

  <style>
    /* https://codepen.io/zachkrall/pen/MWWGMPx */

    .wavy {
      animation-name: wavy;
      animation-duration: 0.8s;
      animation-timing-function: ease-in-out;
      animation-iteration-count: infinite;
      position: relative;
      top: 0;
      left: 0;
    }

    @keyframes wavy {
      0% {
        top: 1px;
      }

      50% {
        top: 5px;
      }

      100% {
        top: 1px;
      }
    }
  </style>
</head>

<body style="align-items: center; justify-content: center; margin: 0">
  <img src="https://slimer37.me/assets/images/logoeyes.png" class="invert" width="100px" style="margin-bottom: -35px;">

  <h1 id="err" style="font-size: 5em; margin: 0;">404</h1>

  <h2 style="margin: 0;">Page not found.</h2>

  <p><i id="message" style="color: #718093"></i></p>

  <br>

  <form action="/"><input type="submit" value="Take me back" style="padding: 5px;"/></form>
</body>

<script>
  let errNumber = document.getElementById("err")

  let typeInterval = 100
  let typeDelay = 500
  let chance = 0.1

  let initial = "037"

  let typing = [
    "037|",
    "03|",
    "0|",
    "|",
    "4|",
    "40|",
    "404|",
    "404"
  ]

  if (Math.random() < chance) {
    errNumber.innerHTML = initial

    Array.from(typing).forEach((text, index) => {
      setTimeout(() => {
        errNumber.innerHTML = text
      }, index * typeInterval + typeDelay)
    });
  }

  let messages = [
    "Couldn't find that page.",
    "Sorry. Turned up empty.",
    "Nothing matched that.",
    "Are you sure you've got it right?",
    "Hmm, haven't any of that here.",
    "Maybe it got excised.",
    "Wrong number.",
    "Wrong place.",
    "Try the unabridged version!",
    "Also try Terraria!",
    "...the end is never the end is never the end is never the end is never the end...",
    "wavyASK AGAIN LATER.",
    "wavyCONCENTRATE AND ASK AGAIN.",
    "wavyREPLY HAZY, TRY AGAIN."
  ]

  let text = messages[Math.floor(Math.random() * messages.length)]

  // https://codepen.io/zachkrall/pen/MWWGMPx

  let waveInterval = 40

  let message = document.getElementById("message");

  if (!text.startsWith("wavy")) {
    message.innerHTML = text
  } else {
    text = text.substring(4)
    message.innerHTML = text
      .split("")
      .map(letter => {
        return `<span>` + letter + `</span>`;
      })
      .join("");

    Array.from(message.children).forEach((span, index) => {
      setTimeout(() => {
        span.classList.add("wavy");
      }, index * waveInterval);
    });
  }
</script>

</html>